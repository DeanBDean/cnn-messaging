<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [AmqpMessenger](#amqpmessenger)
    -   [start](#start)
    -   [stop](#stop)
    -   [publish](#publish)
    -   [\_createObservable](#_createobservable)
    -   [createNotificationObservable](#createnotificationobservable)
    -   [createWorkObservable](#createworkobservable)
-   [Message](#message)
    -   [toString](#tostring)
    -   [toWS](#tows)
    -   [toAmqp](#toamqp)
    -   [getTopic](#gettopic)
    -   [ack](#ack)
    -   [nack](#nack)
    -   [fromAmqp](#fromamqp)
-   [Messenger](#messenger)
    -   [start](#start-1)
    -   [stop](#stop-1)
    -   [publish](#publish-1)
    -   [createNotificationObservable](#createnotificationobservable-1)
    -   [createWorkObservable](#createworkobservable-1)
-   [WebsocketRelay](#websocketrelay)

## AmqpMessenger

**Extends Messenger**

A messenger that can use amqp topic exchanges and queues

**Parameters**

-   `params` **{amqp: {connectionString: [string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String), exchangeName: [string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)}, port: [number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?, http&#x3A; any?}** 

### start

start the service

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;any>** 

### stop

stop the service

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;any>** 

### publish

publish a message to a topic

**Parameters**

-   `topicOrMessage` **any** 
-   `messageOnly` **[Message](#message)** 

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;any>** 

### \_createObservable

create an observable for a given topic, type, and queue

**Parameters**

-   `topic` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `type` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `queue` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;Rx.Observable&lt;any>>** 

### createNotificationObservable

create an observable for a given topic, that is meant for multiple recipients per message

**Parameters**

-   `topic` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;Rx.Observable&lt;any>>** 

### createWorkObservable

create an observable for a given topic, that is meant for a single recipient per message

**Parameters**

-   `topic` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `queue` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;Rx.Observable&lt;any>>** 

## Message

A Message object

**Parameters**

-   `message` **MessageData** 

### toString

Stringify the message

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### toWS

Convert the message for websocket delivery

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### toAmqp

Convert the message for amqp delivery

Returns **[Buffer](https://nodejs.org/api/buffer.html)** 

### getTopic

Get the preferred topic name from the message context

Returns **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### ack

Ack a work message (mark it as completed)

Returns **void** 

### nack

Nack a work message (mark it as failed, for redelivery)

Returns **void** 

### fromAmqp

Convert a raw amqp message into an instance of Message

**Parameters**

-   `rawMessage`  
-   `channel`  

Returns **[Message](#message)** 

## Messenger

**Extends events.EventEmitter**

An in-memory messenger, providing pub/sub like features

**Parameters**

-   `params` **{port: [number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?, http&#x3A; any?}** 

### start

start the service

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;any>** 

### stop

stop the service

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;any>** 

### publish

publish a message to a topic

**Parameters**

-   `topicOrMessage` **any** 
-   `messageOnly` **[Message](#message)** 

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;any>** 

### createNotificationObservable

create an observable for a given topic, that is meant for multiple recipients per message

**Parameters**

-   `topic` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;Rx.Observable&lt;any>>** 

### createWorkObservable

create an observable for a given topic, that is meant for a single recipient per message

**Parameters**

-   `topic` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 
-   `sharedQueue` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;Rx.Observable&lt;any>>** 

## WebsocketRelay

**Extends events.EventEmitter**

A performant websocket relay for messenger

**Parameters**

-   `params` **{messenger: [Messenger](#messenger), port: [number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)?, http&#x3A; any?, pingInterval: [number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)}** 
